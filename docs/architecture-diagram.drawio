<mxfile host="app.diagrams.net">
  <diagram id="aws-trial-enrollment" name="AWS Trial Enrollment Architecture">
    <mxGraphModel dx="1434" dy="820" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="AWS Trial Enrollment System - AI Agent Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="800" height="40" as="geometry" />
        </mxCell>

        <!-- Subtitle -->
        <mxCell id="subtitle" value="Powered by Amazon Bedrock (Mistral Large 2) | FHIR R4 Compliant | 3 User Personas | 11 FHIR Resources" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="400" y="60" width="800" height="30" as="geometry" />
        </mxCell>

        <!-- USER PERSONAS LAYER -->
        <mxCell id="personas-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FF;strokeColor=#0277BD;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="200" y="110" width="1200" height="120" as="geometry" />
        </mxCell>
        <mxCell id="personas-label" value="USER PERSONAS" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="220" y="120" width="200" height="30" as="geometry" />
        </mxCell>

        <!-- CRC Persona -->
        <mxCell id="crc-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="280" y="160" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="crc-text" value="ðŸ‘¤ Clinical Research Coordinator (CRC)&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Patient Screening &amp; Eligibility Checks&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="280" y="165" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- StudyAdmin Persona -->
        <mxCell id="admin-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="660" y="160" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="admin-text" value="ðŸ‘¤ Study Administrator (StudyAdmin)&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Protocol Management &amp; Upload&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="660" y="165" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- PI Persona -->
        <mxCell id="pi-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BBDEFB;strokeColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="1040" y="160" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="pi-text" value="ðŸ‘¤ Principal Investigator (PI)&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Match Review &amp; Enrollment Approval&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1040" y="165" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- FRONTEND LAYER -->
        <mxCell id="frontend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#E65100;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="200" y="270" width="1200" height="160" as="geometry" />
        </mxCell>
        <mxCell id="frontend-label" value="FRONTEND LAYER - Global Content Delivery" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="220" y="280" width="400" height="30" as="geometry" />
        </mxCell>

        <!-- CloudFront with Icon -->
        <mxCell id="cloudfront" value="Amazon CloudFront&lt;br&gt;&lt;font size=&quot;2&quot;&gt;ðŸŒ Global CDN&lt;br&gt;Edge Locations&lt;br&gt;Low Latency&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#E65100;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="250" y="320" width="160" height="90" as="geometry" />
        </mxCell>

        <!-- Arrow CF to S3 -->
        <mxCell id="arrow-cf-s3" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#E65100;" edge="1" parent="1" source="cloudfront" target="s3-frontend">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-cf-s3-label" value="Origin" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#E65100;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="410" y="345" width="50" height="20" as="geometry" />
        </mxCell>

        <!-- S3 -->
        <mxCell id="s3-frontend" value="Amazon S3&lt;br&gt;&lt;font size=&quot;2&quot;&gt;ðŸ“¦ Static Hosting&lt;br&gt;Build Artifacts&lt;br&gt;HTML/CSS/JS&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#E65100;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="460" y="320" width="160" height="90" as="geometry" />
        </mxCell>

        <!-- Arrow S3 to React -->
        <mxCell id="arrow-s3-react" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#E65100;" edge="1" parent="1" source="s3-frontend" target="react">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-s3-react-label" value="Serves" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#E65100;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="620" y="345" width="50" height="20" as="geometry" />
        </mxCell>

        <!-- React App -->
        <mxCell id="react" value="React Application&lt;br&gt;&lt;font size=&quot;2&quot;&gt;âš›ï¸ TypeScript + Ant Design&lt;br&gt;ðŸ’¼ CRC Dashboard&lt;br&gt;ðŸ’¼ StudyAdmin Dashboard&lt;br&gt;ðŸ’¼ PI Dashboard&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#E65100;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="670" y="320" width="200" height="90" as="geometry" />
        </mxCell>

        <!-- Live URL Box -->
        <mxCell id="url-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#E65100;strokeWidth=3;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="320" width="300" height="90" as="geometry" />
        </mxCell>
        <mxCell id="url-icon" value="ðŸ”—" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=28;" vertex="1" parent="1">
          <mxGeometry x="930" y="325" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="url-label" value="Live Production URL" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#E65100" vertex="1" parent="1">
          <mxGeometry x="975" y="328" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="url-main" value="enrollment.samyama.care" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#1565C0;textDecoration=underline;" vertex="1" parent="1">
          <mxGeometry x="975" y="350" width="230" height="25" as="geometry" />
        </mxCell>
        <mxCell id="url-status" value="âœ“ Fully Operational | âœ“ HTTPS Secured" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=bottom;whiteSpace=wrap;rounded=0;fontSize=9;fontColor=#2E7D32;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="975" y="378" width="230" height="20" as="geometry" />
        </mxCell>
        <mxCell id="url-badge" value="Custom Domain" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=9;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="930" y="370" width="80" height="20" as="geometry" />
        </mxCell>

        <!-- AUTH & API LAYER -->
        <mxCell id="auth-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#6A1B9A;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="200" y="470" width="1200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="auth-label" value="AUTHENTICATION &amp; API LAYER" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="220" y="480" width="300" height="30" as="geometry" />
        </mxCell>

        <!-- Cognito -->
        <mxCell id="cognito" value="Amazon Cognito&lt;br&gt;&lt;font size=&quot;2&quot;&gt;User Pool&lt;br&gt;3 User Groups:&lt;br&gt;CRC, StudyAdmin, PI&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#6A1B9A;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="280" y="520" width="180" height="70" as="geometry" />
        </mxCell>

        <!-- API Gateway -->
        <mxCell id="apigw" value="Amazon API Gateway&lt;br&gt;&lt;font size=&quot;2&quot;&gt;REST API&lt;br&gt;/protocols, /patients, /matches&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#6A1B9A;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="540" y="520" width="220" height="70" as="geometry" />
        </mxCell>

        <!-- Lambda Authorizer -->
        <mxCell id="authorizer" value="Lambda Authorizer&lt;br&gt;&lt;font size=&quot;2&quot;&gt;JWT Validation&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9C27B0;strokeColor=#6A1B9A;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="840" y="520" width="160" height="70" as="geometry" />
        </mxCell>

        <!-- Arrows Auth -->
        <mxCell id="arrow-cognito-apigw" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#6A1B9A;" edge="1" parent="1" source="cognito" target="apigw">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-apigw-auth" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#6A1B9A;" edge="1" parent="1" source="apigw" target="authorizer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- AI AGENT LAYER -->
        <mxCell id="lambda-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#2E7D32;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="200" y="650" width="1200" height="220" as="geometry" />
        </mxCell>
        <mxCell id="lambda-label" value="AI AGENT LAYER - 10 Lambda Functions" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="220" y="660" width="400" height="30" as="geometry" />
        </mxCell>

        <!-- Pipeline Box -->
        <mxCell id="pipeline-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="700" width="1100" height="130" as="geometry" />
        </mxCell>
        <mxCell id="pipeline-label" value="ðŸ“„ Document Processing Pipeline (AI Agent Workflow)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#2E7D32" vertex="1" parent="1">
          <mxGeometry x="240" y="705" width="400" height="25" as="geometry" />
        </mxCell>

        <!-- Pipeline Phase 1: PDF Upload -->
        <mxCell id="phase1" value="Phase 1&lt;br&gt;&lt;b&gt;PDF Upload&lt;/b&gt;&lt;br&gt;&lt;font size=&quot;2&quot;&gt;S3 Trigger&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#388E3C;fontColor=#1B5E20;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="260" y="740" width="120" height="70" as="geometry" />
        </mxCell>

        <!-- Arrow 1 -->
        <mxCell id="arrow-phase1-2" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#388E3C;curved=0;" edge="1" parent="1" source="phase1" target="phase2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-label1" value="S3 Event" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="380" y="755" width="60" height="20" as="geometry" />
        </mxCell>

        <!-- Pipeline Phase 2: Textract -->
        <mxCell id="phase2" value="Phase 2&lt;br&gt;&lt;b&gt;OCR Extraction&lt;/b&gt;&lt;br&gt;&lt;font size=&quot;2&quot;&gt;AWS Textract&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#388E3C;fontColor=#1B5E20;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="420" y="740" width="120" height="70" as="geometry" />
        </mxCell>

        <!-- Arrow 2 -->
        <mxCell id="arrow-phase2-3" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#388E3C;curved=0;" edge="1" parent="1" source="phase2" target="phase3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-label2" value="Raw Text" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="540" y="755" width="60" height="20" as="geometry" />
        </mxCell>

        <!-- Pipeline Phase 3: Comprehend -->
        <mxCell id="phase3" value="Phase 3&lt;br&gt;&lt;b&gt;Medical NER&lt;/b&gt;&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Comprehend Medical&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#388E3C;fontColor=#1B5E20;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="580" y="740" width="140" height="70" as="geometry" />
        </mxCell>

        <!-- Arrow 3 -->
        <mxCell id="arrow-phase3-4" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#388E3C;curved=0;" edge="1" parent="1" source="phase3" target="phase4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-label3" value="Entities" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="720" y="755" width="60" height="20" as="geometry" />
        </mxCell>

        <!-- Pipeline Phase 4: Mistral Parsing -->
        <mxCell id="phase4" value="Phase 4&lt;br&gt;&lt;b&gt;AI Parsing&lt;/b&gt;&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Bedrock (Mistral)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#66BB6A;strokeColor=#2E7D32;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="760" y="740" width="130" height="70" as="geometry" />
        </mxCell>

        <!-- Arrow 4 -->
        <mxCell id="arrow-phase4-5" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#388E3C;curved=0;" edge="1" parent="1" source="phase4" target="phase5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-label4" value="Structured&lt;br&gt;Criteria" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="890" y="750" width="70" height="30" as="geometry" />
        </mxCell>

        <!-- Pipeline Phase 5: Cache -->
        <mxCell id="phase5" value="Phase 5&lt;br&gt;&lt;b&gt;Cache Storage&lt;/b&gt;&lt;br&gt;&lt;font size=&quot;2&quot;&gt;DynamoDB&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#81C784;strokeColor=#388E3C;fontColor=#1B5E20;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="940" y="740" width="120" height="70" as="geometry" />
        </mxCell>

        <!-- Pipeline Success Indicator -->
        <mxCell id="pipeline-status" value="âœ“ Automated Pipeline" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="1080" y="760" width="140" height="30" as="geometry" />
        </mxCell>

        <!-- Lambda Functions Row 1 -->
        <mxCell id="lambda1" value="Textract&lt;br&gt;Processor" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="240" y="840" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="lambda2" value="Section&lt;br&gt;Classifier" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="380" y="840" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="lambda3" value="Criteria Parser&lt;br&gt;(Mistral)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="520" y="840" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="lambda4" value="Protocol&lt;br&gt;Orchestrator" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="660" y="840" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="lambda5" value="FHIR Search&lt;br&gt;(HealthLake)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="800" y="840" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="lambda6" value="Patient&lt;br&gt;Manager" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="940" y="840" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="lambda7" value="Protocol&lt;br&gt;Manager" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1080" y="840" width="120" height="50" as="geometry" />
        </mxCell>

        <mxCell id="lambda8" value="Match&lt;br&gt;Manager" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#2E7D32;fontColor=#FFFFFF;fontSize=11;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1220" y="840" width="120" height="50" as="geometry" />
        </mxCell>

        <!-- AI SERVICES LAYER -->
        <mxCell id="ai-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FCE4EC;strokeColor=#C2185B;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="200" y="910" width="1200" height="140" as="geometry" />
        </mxCell>
        <mxCell id="ai-label" value="AI SERVICES LAYER" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="220" y="920" width="200" height="30" as="geometry" />
        </mxCell>

        <!-- Bedrock -->
        <mxCell id="bedrock" value="Amazon Bedrock&lt;br&gt;&lt;font size=&quot;2&quot;&gt;&lt;b&gt;Mistral Large 2&lt;/b&gt;&lt;br&gt;mistral.mistral-large-2402-v1:0&lt;br&gt;Core AI Reasoning&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E91E63;strokeColor=#C2185B;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="280" y="960" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- Textract -->
        <mxCell id="textract" value="AWS Textract&lt;br&gt;&lt;font size=&quot;2&quot;&gt;PDF OCR&lt;br&gt;Document Analysis&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E91E63;strokeColor=#C2185B;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="540" y="960" width="180" height="70" as="geometry" />
        </mxCell>

        <!-- Comprehend Medical -->
        <mxCell id="comprehend" value="Comprehend Medical&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Medical NER&lt;br&gt;Entity Extraction&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E91E63;strokeColor=#C2185B;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="780" y="960" width="180" height="70" as="geometry" />
        </mxCell>

        <!-- HealthLake -->
        <mxCell id="healthlake" value="AWS HealthLake&lt;br&gt;&lt;font size=&quot;2&quot;&gt;FHIR R4 Datastore&lt;br&gt;11 Resource Types&lt;br&gt;Patient, Condition, Observation...&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E91E63;strokeColor=#C2185B;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1020" y="960" width="240" height="70" as="geometry" />
        </mxCell>

        <!-- DATA LAYER -->
        <mxCell id="data-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#B71C1C;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="200" y="1090" width="1200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="data-label" value="DATA PERSISTENCE LAYER" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="220" y="1100" width="300" height="30" as="geometry" />
        </mxCell>

        <!-- DynamoDB Tables -->
        <mxCell id="dynamo1" value="DynamoDB&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Criteria Cache&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F44336;strokeColor=#B71C1C;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="280" y="1140" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dynamo2" value="DynamoDB&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Evaluation Results&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F44336;strokeColor=#B71C1C;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="480" y="1140" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="dynamo3" value="DynamoDB&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Matches (with GSI)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F44336;strokeColor=#B71C1C;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="680" y="1140" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- S3 Documents -->
        <mxCell id="s3-docs" value="S3 Bucket&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Protocol Documents&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F44336;strokeColor=#B71C1C;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="880" y="1140" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- CloudWatch -->
        <mxCell id="cloudwatch" value="CloudWatch&lt;br&gt;&lt;font size=&quot;2&quot;&gt;Logs &amp; Metrics&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F44336;strokeColor=#B71C1C;fontColor=#FFFFFF;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1080" y="1140" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- Key connecting arrows -->
        <mxCell id="arrow-personas-frontend" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#0277BD;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="800" y="230" as="sourcePoint" />
            <mxPoint x="800" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-frontend-auth" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#E65100;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="800" y="430" as="sourcePoint" />
            <mxPoint x="800" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-auth-lambda" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#6A1B9A;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="800" y="610" as="sourcePoint" />
            <mxPoint x="800" y="650" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-lambda-ai" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#2E7D32;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="800" y="870" as="sourcePoint" />
            <mxPoint x="800" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-ai-data" value="" style="endArrow=classic;html=1;strokeWidth=3;strokeColor=#C2185B;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="800" y="1050" as="sourcePoint" />
            <mxPoint x="800" y="1090" as="targetPoint" />
          </mxGeometry>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
